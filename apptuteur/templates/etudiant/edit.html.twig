{% extends 'base.html.twig' %}

{% block title %}Modifier un étudiant
{% endblock %}

{% block body %}
	<div
		class="bg-light min-vh-100 d-flex flex-column">
		{# Navbar #}
		<nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm">
			<div class="container-fluid">
				<span class="navbar-brand fw-bold">Visites Tuteurs</span>
				<div class="d-flex align-items-center">
					<span class="text-white small me-3">
						{{ tuteur.prenom }}
						{{ tuteur.nom }}
					</span>
					<a href="{{ path('app_etudiant_index') }}" class="btn btn-outline-light btn-sm me-2">
						Mes étudiants
					</a>
					<a href="{{ path('app_logout') }}" class="btn btn-outline-light btn-sm">
						Déconnexion
					</a>
				</div>
			</div>
		</nav>

		{# Contenu #}
		<div class="flex-grow-1 d-flex align-items-center justify-content-center">
			<div class="container">
				{% for label, messages in app.flashes %}
					{% for message in messages %}
						<div class="alert alert-{{ label == 'error' ? 'danger' : 'success' }} alert-dismissible fade show small" role="alert">
							{{ message }}
							<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Fermer"></button>
						</div>
					{% endfor %}
				{% endfor %}

				<div class="row justify-content-center">
					<div class="col-md-5">
						<div class="card border-0 shadow-lg rounded-3">
							<div class="card-body p-4">
								<h1 class="h5 mb-1 text-center">Modifier l’étudiant</h1>
								<p class="text-muted text-center mb-4 small">
									{{ etudiant.prenom }}
									{{ etudiant.nom }}
									–
									{{ etudiant.formation }}
								</p>

								{{ form_start(form) }}
								<div class="mb-3">
									{{ form_label(form.nom, null, {'label_attr': {'class': 'form-label small fw-semibold'}}) }}
									{{ form_widget(form.nom, {'attr': {'class': 'form-control form-control-sm'}}) }}
									{{ form_errors(form.nom) }}
								</div>

								<div class="mb-3">
									{{ form_label(form.prenom, null, {'label_attr': {'class': 'form-label small fw-semibold'}}) }}
									{{ form_widget(form.prenom, {'attr': {'class': 'form-control form-control-sm'}}) }}
									{{ form_errors(form.prenom) }}
								</div>

								<div class="mb-4">
									{{ form_label(form.formation, null, {'label_attr': {'class': 'form-label small fw-semibold'}}) }}
									{{ form_widget(form.formation, {'attr': {'class': 'form-control form-control-sm'}}) }}
									{{ form_errors(form.formation) }}
								</div>

								<div class="d-flex justify-content-between">
									<a href="{{ path('app_etudiant_index') }}" class="btn btn-outline-secondary btn-sm">
										Annuler
									</a>
									<button type="submit" class="btn btn-warning btn-sm">
										Enregistrer les modifications
									</button>
								</div>
								{{ form_end(form) }}
							</div>
						</div>

						<p class="text-center text-muted mt-3 small">
							Mini‑projet Visites Tuteurs
						</p>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}

